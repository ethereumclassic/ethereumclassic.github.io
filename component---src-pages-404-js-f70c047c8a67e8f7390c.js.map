{"version":3,"sources":["webpack:///./src/components/backButton.js","webpack:///./src/pages/404.js"],"names":["BackButton","children","text","to","automatic","props","onClick","window","history","back","className","parseResult","result","locale","edge","edges","find","node","fields","JSON","parse","body","parseGlobals","pathname","defaultLocale","locales","potential","split","Object","keys","getLocaleFromPath","config","fallback","translation","homepath","globals","NotFound","query","render","location","title","notFound","src","logo","alt","notFoundText","goBack","navHome"],"mappings":"i/HAceA,IAVI,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,GAAIC,EAA0B,EAA1BA,UAAcC,E,oIAAY,yCAC5DC,EAAUF,GAAc,kBAAMG,OAAOC,QAAQC,QACnD,OACE,kBAAC,IAAD,eAAMC,UAAU,cAAcJ,QAASA,EAASH,GAAIA,GAAQE,GAC1D,uBAAGK,UAAU,sBACZR,GAAQD,K,27BCyBf,SAASU,EAAYC,EAAQC,GAC3B,IAAMC,EAAOF,EAAOG,MAAMC,MAAK,qBAAGC,KAAgBC,OAAOL,SAAWA,KACpE,OAAOM,KAAKC,MAAMN,EAAKG,KAAKC,OAAOG,MAGrC,SAASC,EAAaC,EAAUX,GAC9B,IAAMC,EAZR,WAAuDU,GAAW,IAArCC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,QACpCC,EAAYH,EAASI,MAAM,KAAK,GAEtC,OADcC,OAAOC,KAAKJ,GAAST,MAAK,SAAAH,GAAM,OAAIA,IAAWa,MAC7CF,EASDM,CAAkBC,IAAQR,GACnCS,EAAWrB,EAAYC,EAAQmB,IAAOP,eACtCS,EAActB,EAAYC,EAAQC,GAExC,MAAO,CACLqB,SAFerB,IAAWkB,IAAOP,cAAgB,IAAlC,IAA4CX,EAG3DsB,QAAQ,EAAD,GAAOH,EAAP,GAAoBC,IA+BhBG,UA3BE,WACf,OACE,kBAAC,IAAD,CACEC,MA1CK,aA2CLC,OAAQ,SAAA1B,GAAM,OACZ,kBAAC,WAAD,MACG,YAAmB,IAAD,EACaU,EADb,EAAfiB,SACkDhB,SAAUX,EAAOa,SAA7DU,EADS,EACTA,QAASD,EADA,EACAA,SACjB,OACE,oCACE,kBAAC,IAAD,CAAKM,MAAOL,EAAQM,WACpB,yBAAK/B,UAAU,gBACb,yBAAKgC,IAAKC,IAAMC,IAAKT,EAAQK,QAC7B,4BAAKL,EAAQU,cAEb,kBAAC,IAAD,CAAY3C,KAAMiC,EAAQW,OAAQ1C,WAAS,IAC3C,kBAAC,IAAD,CAAYD,GAAI+B,EAAUhC,KAAMiC,EAAQY,gBAdtD","file":"component---src-pages-404-js-f70c047c8a67e8f7390c.js","sourcesContent":["import React from 'react';\n\nimport Link from './link';\n\nconst BackButton = ({ children, text, to, automatic, ...props }) => {\n  const onClick = automatic && (() => window.history.back());\n  return (\n    <Link className=\"button-link\" onClick={onClick} to={to} {...props}>\n      <i className=\"fas fa-angle-left\" />\n      {text || children}\n    </Link>\n  );\n};\n\nexport default BackButton;\n","import React from 'react';\nimport { Location } from '@reach/router';\n\nimport { StaticQuery, graphql } from 'gatsby';\nimport config from '../i18n/config';\nimport logo from '../assets/images/etc-black.svg';\n\nimport BackButton from '~components/backButton';\nimport SEO from '~components/seo';\nimport ButtonLink from '~components/buttonLink';\n\nconst query = graphql`\n  query fourOhFour {\n    locales: allFile(filter: { fields: { isGlobal: { eq: true } } }) {\n      edges {\n        node {\n          fields {\n            locale\n            body\n          }\n        }\n      }\n    }\n  }\n`;\n\n// TODO fallback up the URL tree automatically\n\nfunction getLocaleFromPath({ defaultLocale, locales }, pathname) {\n  const potential = pathname.split('/')[1];\n  const match = Object.keys(locales).find(locale => locale === potential);\n  return match || defaultLocale;\n}\n\nfunction parseResult(result, locale) {\n  const edge = result.edges.find(({ node }) => node.fields.locale === locale);\n  return JSON.parse(edge.node.fields.body);\n}\n\nfunction parseGlobals(pathname, result) {\n  const locale = getLocaleFromPath(config, pathname);\n  const fallback = parseResult(result, config.defaultLocale);\n  const translation = parseResult(result, locale);\n  const homepath = locale === config.defaultLocale ? '/' : `/${locale}`;\n  return {\n    homepath,\n    globals: { ...fallback, ...translation }\n  };\n}\n\nconst NotFound = () => {\n  return (\n    <StaticQuery\n      query={query}\n      render={result => (\n        <Location>\n          {({ location }) => {\n            const { globals, homepath } = parseGlobals(location.pathname, result.locales);\n            return (\n              <>\n                <SEO title={globals.notFound} />\n                <div className=\"four-oh-four\">\n                  <img src={logo} alt={globals.title} />\n                  <h1>{globals.notFoundText}</h1>\n                  {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                  <BackButton text={globals.goBack} automatic />\n                  <ButtonLink to={homepath} text={globals.navHome} />\n                </div>\n              </>\n            );\n          }}\n        </Location>\n      )}\n    />\n  );\n};\n\nexport default NotFound;\n"],"sourceRoot":""}